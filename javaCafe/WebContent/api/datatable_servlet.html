<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>api/datatable_servlet.html</title>
<link
	href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css"
	rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script
	src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
<script>

	$.ajax({
		url: '../getEmpList2',
		dataType : 'json',
		success: empCallBackFunc,
		error: function(reject){console.log(reject)}
	});
	
	function empCallBackFunc(result){
		let outAry = [];
		let data1 = result;
		console.log(data1);
		$(document).ready(function() {
		let titleAry = $('#show').DataTable( {
	        data: data1,
	        columns: [
	            { title: "empId" },
	            { title: "firstName" },
	            { title: "lastName" },
	            { title: "email" },
	            { title: "phoneNumber" },
	            { title: "hire_date" },
	            { title: "job_id" }
	        ]
	    } );
		outAry.push(titleAry);
		console.log(data1);
		
		for(val of data1) {
		let inAry = [];
			for(field in val) {
				console.log(field, val[field]);
				inAry.push(field);
				inAry.push(val[field]);
			}
			outAry.push(inAry);
		}
		
		} );
		
	 	console.log(outAry);
		
		
	}

</script>

</head>
<body>
	<table id="show" class="display" width="100%"></table>


</body>
</html>